| Script | Description | CLI | Python |
|---|---|---|---|
| `elering_consumption.py` | Downloads Estonia electricity consumption from Elering and returns **hourly** data in **Europe/Tallinn**. Supports gap imputation, weekday/weekend flags, Estonian public holidays, and optional **daily** aggregation. Excludes **today** by default to avoid partial days. | <code>python<wbr> elering_consumption.py<wbr> --months 24<wbr> --tz Europe/Tallinn<wbr> --outdir output</code><br><code>python<wbr> elering_consumption.py<wbr> --daily<wbr> --months 24<wbr> --tz Europe/Tallinn</code><br><code>python<wbr> elering_consumption.py<wbr> --months 12<wbr> --include-today<wbr> --no-impute<wbr> --no-holidays</code> | <code>from<wbr> elering_consumption import<wbr> get_hourly_consumption,<wbr> get_daily_consumption</code><br><code>df_hourly = get_hourly_consumption(months=24,<wbr> tz="Europe/Tallinn",<wbr> exclude_today=True,<wbr> add_weekday=True,<wbr> add_holidays=True,<wbr> impute_missing=True)</code><br><code>df_daily = get_daily_consumption(months=24,<wbr> tz="Europe/Tallinn")</code> |
| `meteostat_temperature.py` | Fetches historical weather from Meteostat and returns **daily average temperature** on the **Europe/Tallinn** calendar (optionally hourly too). Provides an **EE-wide average** `EE_avg` from city columns (Tallinn, Tartu, Pärnu, Narva, Kuressaare). Excludes **today** by default. | <code>python<wbr> meteostat_temperature.py<wbr> --months 24<wbr> --tz Europe/Tallinn<wbr> --outdir output</code><br><code>python<wbr> meteostat_temperature.py<wbr> --daily<wbr> --months 36<wbr> --save-csv</code> | <code>from<wbr> meteostat_temperature import<wbr> get_daily_temperature</code><br><code>df_daily = get_daily_temperature(months=24,<wbr> tz="Europe/Tallinn")</code> |
| `regression_analysis.py` | Joins **daily** consumption (Elering) with **daily** temperature (Meteostat) on the **Europe/Tallinn** calendar and fits a **linear model**: `y = a + b·T`. Reports metrics (R², RMSE, MAE). | <code>python<wbr> regression_analysis.py<wbr> --months 24</code><br><code>python<wbr> regression_analysis.py<wbr> --months 36<wbr> --save-fig</code> | <code>from<wbr> regression_analysis import<wbr> load_daily_frames,<wbr> run_linreg</code><br><code>cons,temp = load_daily_frames(months=24)</code><br><code>model = run_linreg(cons,temp)  # returns dict with a,b,r2,rmse,mae</code> |
| `bias_analysis.py` | Computes **daily bias** between actual and regression-predicted consumption. Produces **bias factors** by **season** or **month**, optionally **segmented** by workday/offday. Europe/Tallinn calendar, excludes today. | <code>python<wbr> bias_analysis.py<wbr> --mode season<wbr> --segmented<wbr> --months 24<wbr> --save-csv<wbr> --save-plot</code><br><code>python<wbr> bias_analysis.py<wbr> --mode month<wbr> --months 36</code> | <code>from<wbr> bias_analysis import<wbr> get_bias_factors,<wbr> get_season_bias_segmented,<wbr> apply_bias_to_forecast</code><br><code>factors,meta,table = get_bias_factors(mode="season",<wbr> segmented=True,<wbr> months=24)</code><br><code>df_adj = apply_bias_to_forecast(df=daily_df,<wbr> bias_map=factors,<wbr> mode="season",<wbr> segmented=True)</code> |
| `temp_forecast.py` | Fetches a **7-day temperature forecast** and returns **daily averages** on the **Europe/Tallinn** calendar (starting **tomorrow**). Computes **EE_avg** from available city columns. | <code>python<wbr> temp_forecast.py<wbr> --save-csv</code><br><code>python<wbr> temp_forecast.py<wbr> --tz Europe/Tallinn<wbr> --outdir output<wbr> --save-csv</code> | <code>from<wbr> temp_forecast import<wbr> get_next7_forecast</code><br><code>df = get_next7_forecast(tz="Europe/Tallinn")</code> |
| `el_consumption_forecast.py` | Produces a **7-day daily consumption forecast** (starting **tomorrow**) using temp forecast ➜ **segmented regressions** (workday/offday) ➜ applies **season/month bias**. Output: `date_local`, `yhat_consumption`, `EE_avg_temp_C`, `segment`, `season`, `bias_factor`. | <code>python<wbr> el_consumption_forecast.py<wbr> --mode season<wbr> --segmented-bias<wbr> --months 24<wbr> --save-csv</code><br><code>python<wbr> el_consumption_forecast.py<wbr> --temp-module temp_forecast.py<wbr> --save-csv</code> | <code>from<wbr> el_consumption_forecast import<wbr> forecast_next7</code><br><code>daily = forecast_next7(mode="season",<wbr> segmented_bias=True,<wbr> months_hist=24)</code> |
| `weekday_profile.py` | Builds **weekday load profiles** (hourly distribution) in **Europe/Tallinn** from historical consumption (via `elering_consumption.py` or CSV). Excludes **today** and **EE public holidays** when training; **DST-aware** (23/25h days). Can **split daily forecasts into hourly values**. | <code>python<wbr> weekday_profile.py<wbr> --save-matrix</code><br><code>python<wbr> weekday_profile.py<wbr> --apply-daily-csv<wbr> output/forecast_consumption_daily_next7_tallinn_*.csv</code> | <code>from<wbr> weekday_profile import<wbr> get_weekday_hour_share_matrix,<wbr> split_daily_forecast_to_hourly</code><br><code>M = get_weekday_hour_share_matrix(last_n=6,<wbr> months=24)</code><br><code>hourly = split_daily_forecast_to_hourly(daily_df,<wbr> share_matrix=M)</code> |
| `electricity_hourly_forecast.py` | Produces a **7-day hourly forecast** in **Europe/Tallinn** by combining the **daily forecast** with **weekday profiles**. DST-aware and verifies that hourly sums match daily targets. Output: `datetime_local`, `hour_local`, `weekday`, `consumption_hourly` (+ daily meta). | <code>python<wbr> electricity_hourly_forecast.py<wbr> --save-csv</code><br><code>python<wbr> electricity_hourly_forecast.py<wbr> --daily-csv<wbr> output/forecast_consumption_daily_next7_tallinn_*.csv<wbr> --save-csv</code> | <code>from<wbr> electricity_hourly_forecast import<wbr> main</code><br><code>hourly = main(save_csv=False)</code><br><code>hourly = main(use_daily_csv="output/forecast_consumption_daily_next7_tallinn_YYYYMMDD_YYYYMMDD.csv",<wbr> save_csv=True)</code> |
